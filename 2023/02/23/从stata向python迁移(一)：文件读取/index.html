<!DOCTYPE html>
<html lang="zh-CN">

<head>

  <!-- Minima -->
  <!-- Hexo theme created by @adisaktijrs -->

  <!-- Basic Page Needs
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta charset="utf-8">

  
  <title>ä»stataå‘pythonè¿ç§»(ä¸€)ï¼šæ–‡ä»¶è¯»å–</title>
  
  <link rel="canonical" href="http://example.com/2023/02/23/%E4%BB%8Estata%E5%90%91python%E8%BF%81%E7%A7%BB(%E4%B8%80)%EF%BC%9A%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96/">
  
  <meta name="description" content="ä»Stataè¿ç§»åˆ°Python(ä¸€)ï¼šæ–‡ä»¶è¯»å…¥å’Œè¾“å‡º æœ¬æ–‡åŸåˆ›ï¼Œè½¬è½½è¯·å…ˆè”ç³»ã€‚ å‚è€ƒï¼š pandaså®˜æ–¹æ–‡æ¡£ä¹‹Comparison with Stata   ç›®å½•[TOC]  å†™åœ¨å‰é¢Stataä½œä¸ºä¸€æ¬¾ä¸“ä¸šçš„è®¡é‡åˆ†æè½¯ä»¶å·¥å…·ï¼Œè™½ç„¶åœ¨ä¼ ç»Ÿæ•°æ®åˆ†æé¢†åŸŸè¡¨ç°å‡ºè‰²ï¼Œä½†æ˜¯å®ƒåœ¨å¤„ç†å¤§æ•°æ®å’Œéç»“æ„åŒ–æ•°æ®é¢å‰æ˜æ˜¾ç¼º">
  
  
  <meta name="author" content="FanFan">
  
  
  
  <meta property="og:site_name" content="TextMatters" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="ä»stataå‘pythonè¿ç§»(ä¸€)ï¼šæ–‡ä»¶è¯»å–" />
  
  <meta property="og:description" content="ä»Stataè¿ç§»åˆ°Python(ä¸€)ï¼šæ–‡ä»¶è¯»å…¥å’Œè¾“å‡º æœ¬æ–‡åŸåˆ›ï¼Œè½¬è½½è¯·å…ˆè”ç³»ã€‚ å‚è€ƒï¼š pandaså®˜æ–¹æ–‡æ¡£ä¹‹Comparison with Stata   ç›®å½•[TOC]  å†™åœ¨å‰é¢Stataä½œä¸ºä¸€æ¬¾ä¸“ä¸šçš„è®¡é‡åˆ†æè½¯ä»¶å·¥å…·ï¼Œè™½ç„¶åœ¨ä¼ ç»Ÿæ•°æ®åˆ†æé¢†åŸŸè¡¨ç°å‡ºè‰²ï¼Œä½†æ˜¯å®ƒåœ¨å¤„ç†å¤§æ•°æ®å’Œéç»“æ„åŒ–æ•°æ®é¢å‰æ˜æ˜¾ç¼º">
  
  <meta property="og:url" content="http://example.com/2023/02/23/%E4%BB%8Estata%E5%90%91python%E8%BF%81%E7%A7%BB(%E4%B8%80)%EF%BC%9A%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96/" />

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ä»stataå‘pythonè¿ç§»(ä¸€)ï¼šæ–‡ä»¶è¯»å–">
  
  <meta name="twitter:description" content="ä»Stataè¿ç§»åˆ°Python(ä¸€)ï¼šæ–‡ä»¶è¯»å…¥å’Œè¾“å‡º æœ¬æ–‡åŸåˆ›ï¼Œè½¬è½½è¯·å…ˆè”ç³»ã€‚ å‚è€ƒï¼š pandaså®˜æ–¹æ–‡æ¡£ä¹‹Comparison with Stata   ç›®å½•[TOC]  å†™åœ¨å‰é¢Stataä½œä¸ºä¸€æ¬¾ä¸“ä¸šçš„è®¡é‡åˆ†æè½¯ä»¶å·¥å…·ï¼Œè™½ç„¶åœ¨ä¼ ç»Ÿæ•°æ®åˆ†æé¢†åŸŸè¡¨ç°å‡ºè‰²ï¼Œä½†æ˜¯å®ƒåœ¨å¤„ç†å¤§æ•°æ®å’Œéç»“æ„åŒ–æ•°æ®é¢å‰æ˜æ˜¾ç¼º">
  
  
  
  
  <meta name="twitter:url" content="http://example.com/2023/02/23/%E4%BB%8Estata%E5%90%91python%E8%BF%81%E7%A7%BB(%E4%B8%80)%EF%BC%9A%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96/" />

  <!-- Mobile Specific Metas
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Preload fonts
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="preload" href="/fonts/dm-serif-display-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/fonts/inter-v2-latin-regular.woff2" as="font" type="font/woff2" crossorigin>

  <!-- CSS
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  
<link rel="stylesheet" href="/css/normalize.css">

  
<link rel="stylesheet" href="/css/skeleton.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
<link rel="stylesheet" href="/css/prism-dark.css">

  
<link rel="stylesheet" href="/css/prism-line-numbers.css">

  <!-- User css -->
  

  <!-- Favicon
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="icon" type="image/png" href="/images/myicon.png">

  <!-- Custom Theme Color Style
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <style>
  a:not(.icon) {
    text-decoration-color: #0FA0CE;
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 50%,
      #0FA0CE 50%
    );
  }
  blockquote {
    border-left: 8px solid #0FA0CE;
  }
  .nanobar .bar {
    background: #0FA0CE;
  }
  .button.button-primary:hover,
  button.button-primary:hover,
  input[type="submit"].button-primary:hover,
  input[type="reset"].button-primary:hover,
  input[type="button"].button-primary:hover,
  .button.button-primary:focus,
  button.button-primary:focus,
  input[type="submit"].button-primary:focus,
  input[type="reset"].button-primary:focus,
  input[type="button"].button-primary:focus {
    background-color: #0FA0CE;
    border-color: #0FA0CE;
  }
  input[type="email"]:focus,
  input[type="number"]:focus,
  input[type="search"]:focus,
  input[type="text"]:focus,
  input[type="tel"]:focus,
  input[type="url"]:focus,
  input[type="password"]:focus,
  textarea:focus,
  select:focus {
    border: 1px solid #0FA0CE;
  }
</style>

  <!-- Google Analytics (With Privacy Settings On)
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    /* Prepare GA Session, disable cookies to protect privacy */
    ga("create", "G-FBJDP8B9GB", {storage: "none",});
    /* Privacy settings - not tracking anything personal */
    ga("set", "allowAdFeatures", false);
    ga("set", "anonymizeIp", true);
    ga("set", "forceSSL", true);
    /* Send simple anonymized pageview */
    ga("send", "pageview");
  </script>


  
  <script src="/js/pic.min.js" defer></script>
  

  
  <script src="/js/search.min.js" defer></script>
  

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div class="container">
    <div class="row">
      <div>

        <div class="row">
  <div class="two columns" style="max-width: 50px">
    <h1 class="mt-2 mode">
      <div onclick=setDarkMode(true) id="darkBtn">ğŸŒ‘</div>
      <div onclick=setDarkMode(false) id="lightBtn" class=hidden>â˜€ï¸</div>
      <script >
        if (localStorage.getItem('preferredTheme') == 'dark') {
          setDarkMode(true)
        }
        function setDarkMode(isDark) {
          var darkBtn = document.getElementById('darkBtn')
          var lightBtn = document.getElementById('lightBtn')
          if (isDark) {
            lightBtn.style.display = "block"
            darkBtn.style.display = "none"
            localStorage.setItem('preferredTheme', 'dark');
          } else {
            lightBtn.style.display = "none"
            darkBtn.style.display = "block"
            localStorage.removeItem('preferredTheme');
          }
          document.body.classList.toggle("darkmode");
        }
      </script>
    </h1>
  </div>

  <div class="six columns ml-1">
    <h1 class="mt-2">
      TextMatters
    </h1>
  </div>

  <div class="twelve columns">
    <div class="row">
      <div class="nine columns left">
        <a href="/">Home</a>
        
          
          <a href="/tags/code" class="ml">Code</a>
          
        
          
          <a href="/tags/paper" class="ml">Paper</a>
          
        
          
          <a href="/categories" class="ml">Category</a>
          
        
          
          <a href="/resources" class="ml">Resource</a>
          
        
        
          
            <a href="mailto:siyufan7-c@my.cityu.edu.hk" target="_blank" class="ml">Email</a>
          
        
      </div>
    </div>
    <hr style="margin-bottom: 2.6rem">
  </div>
</div>

        <div class="trans">
            <h2>ä»stataå‘pythonè¿ç§»(ä¸€)ï¼šæ–‡ä»¶è¯»å–</h2>

  <h1 id="ä»Stataè¿ç§»åˆ°Python-ä¸€-ï¼šæ–‡ä»¶è¯»å…¥å’Œè¾“å‡º"><a href="#ä»Stataè¿ç§»åˆ°Python-ä¸€-ï¼šæ–‡ä»¶è¯»å…¥å’Œè¾“å‡º" class="headerlink" title="ä»Stataè¿ç§»åˆ°Python(ä¸€)ï¼šæ–‡ä»¶è¯»å…¥å’Œè¾“å‡º"></a>ä»Stataè¿ç§»åˆ°Python(ä¸€)ï¼šæ–‡ä»¶è¯»å…¥å’Œè¾“å‡º</h1><blockquote>
<p>æœ¬æ–‡åŸåˆ›ï¼Œè½¬è½½è¯·å…ˆè”ç³»ã€‚</p>
<p><strong>å‚è€ƒï¼š</strong> pandaså®˜æ–¹æ–‡æ¡£ä¹‹<em>Comparison with Stata</em></p>
</blockquote>
<hr>
<p><strong>ç›®å½•</strong><br>[TOC]</p>
<hr>
<h1 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h1><p>Stataä½œä¸ºä¸€æ¬¾ä¸“ä¸šçš„è®¡é‡åˆ†æè½¯ä»¶å·¥å…·ï¼Œè™½ç„¶åœ¨ä¼ ç»Ÿæ•°æ®åˆ†æé¢†åŸŸè¡¨ç°å‡ºè‰²ï¼Œä½†æ˜¯å®ƒåœ¨å¤„ç†å¤§æ•°æ®å’Œéç»“æ„åŒ–æ•°æ®é¢å‰æ˜æ˜¾ç¼ºä¹ä¼˜åŠ¿ï¼Œæ›´ä¸è¦è¯´å®ƒåœ¨æœºå™¨å­¦ä¹ å’Œæ·±åº¦å­¦ä¹ æ¨¡å—ä¸Šçš„é™åˆ¶ã€‚ å› æ­¤ï¼Œ<strong>æŒæ¡Pythonå·²ç»æˆä¸ºäº†æˆ‘ä»¬è¿›è¡Œç³»ç»Ÿå­¦ä¹ æ–‡æœ¬åˆ†æä¸€ä¸ªå¿…è¦å‰æ</strong>ã€‚</p>
<p>æ—©åœ¨ä¹‹å‰æˆ‘è‡ªå·±å­¦ä¹ Pythonè¿ç”¨å…¶è¿›è¡Œæ•°æ®åˆ†ææ—¶å€™ï¼Œæˆ‘è§‰å¾—æ‰¾åˆ°ä¸€æœ¬Stata-Pythonå¯¹åº”å‚ç…§æŒ‡å—éå¸¸é‡è¦ï¼Œå› ä¸ºæˆ‘å‘ç°Stataå’ŒPythonåœ¨æ•°æ®å¤„ç†çš„åº•å±‚é€»è¾‘ä¸Šå…¶å®å·®åˆ«ç›¸å½“å¤§ã€‚å› æ­¤ï¼Œå¯¹äºé‚£äº›å·²ç»ä¹ æƒ¯äº†ä½¿ç”¨Stataç”šè‡³å¯¹å…¶æœ‰ä¸¥é‡è·¯å¾„ä¾èµ–çš„äººï¼ˆæ¯”å¦‚æˆ‘ï¼‰æ¥è¯´ï¼Œåœ¨æœ€åˆå…¥é—¨Pythonæ•°æ®å¤„ç†å¯èƒ½ä¼šæ˜¯ä¸€ä»¶å›°éš¾çš„äº‹æƒ…ã€‚</p>
<p><strong>â€œä»Stataè¿ç§»åˆ°Pythonâ€çš„ç³»åˆ—æ¨æ–‡</strong>å‚è€ƒpandaså®˜æ–¹æ–‡æ¡£ä¹‹<em>Comparison with Stata</em>ï¼Œå¹¶æŒ‰ç…§æˆ‘è‡ªå·±çš„æ€è·¯è¿›è¡Œæ’°å†™ã€‚æ—¨åœ¨å¸®åŠ©é‚£äº›ä¹ æƒ¯ä½¿ç”¨Stataçš„äººé€æ­¥æŒæ¡Pythonçš„åŸºç¡€çŸ¥è¯†ï¼Œå¹¶é¡ºåˆ©è¿ç§»ä»–ä»¬çš„æ•°æ®å¤„ç†æ¡†æ¶ã€‚æ–‡ç« ä¼šé‡ç‚¹ä»‹ç»ä¸€äº›å¸¸è§çš„æ•°æ®é™¤äº†å’Œç»Ÿè®¡åˆ†æçš„è¿‡ç¨‹ï¼Œå¹¶åŒæ—¶ä½¿ç”¨Stataå’ŒPythonä»£ç è¿›è¡Œæ¼”ç¤ºï¼Œä½¿è¯»è€…æ›´å¥½åœ°ç†è§£ä¸¤è€…ä¹‹é—´çš„åŸºæœ¬ç­‰ä»·å‘½ä»¤å’ŒåŒºåˆ«ã€‚</p>
<p><strong>æœ¬æ–‡å‡è®¾ä½ å·²ç»æå‰å­¦ä¼šäº†å®‰è£…å¹¶æˆåŠŸé…ç½®äº†python&#x2F;anacondaï¼Œä»¥åŠä¼šæ‰“å¼€å’Œä½¿ç”¨jupyternotebookï¼Œå¦‚æœè¿˜æ²¡æœ‰ï¼Œè¯·å…ˆåœ¨æœç´¢å¼•æ“ä¸Šå­¦ä¹ ä»¥ä¸Šçš„å®‰è£…æ•™ç¨‹ã€‚</strong></p>
<h3 id="åº“çš„å®‰è£…"><a href="#åº“çš„å®‰è£…" class="headerlink" title="åº“çš„å®‰è£…"></a>åº“çš„å®‰è£…</h3><p>åœ¨Pythonä¸­è¿›è¡Œæ•°æ®åˆ†æå¿…è¦çš„åº“åŒ…æ‹¬ï¼šNumPyã€Pandasç­‰ã€‚æˆ‘ä»¬éœ€è¦å®‰è£…å®ƒä»¬ã€‚</p>
<p>åº“çš„å®‰è£…ï¼šPythonå’ŒStataéƒ½æœ‰è‡ªå·±çš„åº“ç®¡ç†å·¥å…·ï¼ŒPythonå¯ä»¥ä½¿ç”¨pip&#x2F;condaï¼ŒStataä½¿ç”¨ssc&#x2F;netã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡è¿™äº›å·¥å…·æ–¹ä¾¿åœ°ä¸‹è½½ã€å®‰è£…å’Œæ›´æ–°åº“ã€‚</p>
<ul>
<li>ä½¿ç”¨pipå®‰è£…ï¼špip install pandas</li>
<li>ä½¿ç”¨condaå®‰è£…ï¼šconda install panda</li>
</ul>
<p>Stataåœ¨æœ¬åœ°å®‰è£…å®Œå,åœ¨åç»­è·‘ä»£ç æ—¶ä¸å¿…ç‰¹åˆ«ç”³æ˜å¼•å…¥ï¼Œä½†æ˜¯Pythonéœ€è¦åœ¨ä»£ç å¼€å¤´ç”¨ <code>import</code>å¯¹åº“è¿›è¡Œå¯¼å…¥ã€‚</p>
<p>å¦‚ä¸‹ï¼Œimportè¯­å¥ç”¨äºå¼•å…¥pandasåº“å¹¶å°†å…¶å‘½åä¸ºâ€œpdâ€ï¼Œä»¥ä¾¿åœ¨åç»­ä»£ç ä¸­ä½¿ç”¨pandasåº“ä¸­çš„å‡½æ•°å’Œæ–¹æ³•ã€‚</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>è¿™å°†ä½¿å¾—pandasåº“ä¸­çš„å‡½æ•°å’Œæ–¹æ³•èƒ½å¤Ÿé€šè¿‡pdå¯¹è±¡è¿›è¡Œè°ƒç”¨ï¼Œä¾‹å¦‚ï¼š</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>mydata<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>å…¶ä¸­ï¼Œ<code>pd.DataFrame</code>æ˜¯ <code>pandas</code>åº“ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªDataFrameå¯¹è±¡ï¼Œå°†æ•°æ® <code>mydata</code>ä½œä¸ºè¾“å…¥ã€‚</p>
<h3 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h3><h4 id="DataFrame"><a href="#DataFrame" class="headerlink" title="DataFrame"></a>DataFrame</h4><p>Pandasä¸­çš„ <code>DataFrame</code>ç±»ä¼¼äºStataæ•°æ®é›†ï¼Œä»¥â¼€å¼ çŸ©é˜µï¼ˆè¡ŒÃ—åˆ—ï¼‰çš„å½¢å¼å‘ˆç°ï¼Œå¯ä»¥ä½¿ç”¨è¡Œå’Œåˆ—çš„æ ‡ç­¾æˆ–ç´¢å¼•è®¿é—®å•ä¸ªå€¼ã€è¡Œæˆ–åˆ—çš„æ•°æ®ã€‚å…¶ä¸­ï¼Œè¡Œçš„ç´¢å¼•æ˜¯indexï¼Œåˆ—çš„ç´¢å¼•æ˜¯colunmsï¼ˆç›´è§‰ä¸Šï¼Œä½ å¯ä»¥ç†è§£ä¸ºå›¾ç‰‡æœ€å·¦è¾¹å’Œæœ€ä¸Šé¢çš„æ·±ç°è‰²åŒºåŸŸï¼‰ã€‚<br><img src="https://files.mdnice.com/user/32844/7fc0e386-8f2c-4c14-b7e8-7cca0625a1ee.png"></p>
<h4 id="Series"><a href="#Series" class="headerlink" title="Series"></a>Series</h4><p>DataFrameçš„æ¯ä¸€åˆ—éƒ½æ˜¯ä¸€ä¸ª <code>Series</code>å¯¹è±¡ï¼Œæ¯ä¸ª <code>Series</code>å¯¹è±¡åªèƒ½å­˜å‚¨ä¸€ç§æ•°æ®ç±»å‹ã€‚ä½†æ˜¯ï¼Œä¸åŒçš„åˆ—å¯ä»¥æœ‰ä¸åŒçš„æ•°æ®ç±»å‹ã€‚å®ƒæ˜¯pandasä¸­çš„ä¸€ç§å•ç‹¬çš„æ•°æ®ç»“æ„ï¼Œä½†Stataæ²¡æœ‰å•ç‹¬ä¸ºå•åˆ—è®¾è®¡çš„æ•°æ®ç»“æ„ã€‚Seriesä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æœ‰ä¸€ä¸ªç´¢å¼•ï¼ˆä¸Šé¢è®²çš„columnsï¼‰ï¼Œè¯¥ç´¢å¼•å¯ä»¥æ˜¯ä»»æ„æ•°æ®ç±»å‹ï¼Œé€šå¸¸æ˜¯æ•´æ•°æˆ–å­—ç¬¦ä¸²ã€‚</p>
<p><strong>ä¸€å®šè¦è®°ä½Seriesï¼ˆåˆ—ï¼‰çš„æ¦‚å¿µï¼Œå®ƒåœ¨pandasä¸­å¾ˆé‡è¦ã€‚è®¸å¤šå…¶ä»–Pandasæ•°æ®ç»“æ„ï¼Œå¦‚DataFrameå’ŒPanelï¼Œéƒ½æ˜¯åŸºäºSeriesæ„å»ºçš„ï¼Œè€Œä¸æ˜¯è¡Œï¼</strong></p>
<h4 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h4><p>æ¯ä¸ªDataFrameå’ŒSerieséƒ½æœ‰ä¸€ä¸ªIndexç´¢å¼•ï¼Œç´¢å¼•å¯ä»¥è¢«æŒ‡å®šï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤æ˜¯æ•´æ•°ï¼ˆç¬¬ä¸€è¡Œ &#x3D; 0ï¼Œç¬¬äºŒè¡Œ &#x3D; 1ï¼Œä¾æ­¤ç±»æ¨ï¼‰ã€‚</p>
<p>Stataä¸­æ²¡æœ‰ä¸€ä¸ªå¯¹åº”çš„æ¦‚å¿µï¼Œä½†ç›´è§‰ä¸Šï¼ˆä¹Ÿä»…ä»…æ˜¯ç›´è§‰ä¸Šï¼ï¼‰ï¼Œä½ å¯ä»¥ç®€å•ç†è§£ä¸ºï¼Œç±»ä¼¼äºä½ æ‰“å¼€Stataæ•°æ®æµè§ˆçª—å£æ—¶ï¼Œæ•°æ®é›†æœ€å·¦ä¾§çš„1ï¼Œ2ï¼Œ3â€¦â€¦ã€‚åœ¨ Stata ä¸­ï¼Œé™¤äº†å¯ä»¥ç”¨æš—å«ç´¢å¼• <code>_n</code>è®¿é—®è¡Œå¤–ï¼Œæ•°æ®åŸºæœ¬æ²¡æœ‰è¡Œæ ‡ç­¾ã€‚</p>
<p><img src="https://files.mdnice.com/user/32844/c1e79dac-0670-459a-99ae-3099132b4268.png"></p>
<h3 id="è¯»å…¥æ•°æ®"><a href="#è¯»å…¥æ•°æ®" class="headerlink" title="è¯»å…¥æ•°æ®"></a>è¯»å…¥æ•°æ®</h3><p>æˆ‘ä»¬è¿™é‡Œç›´æ¥å…³æ³¨è¯»å…¥å¤–éƒ¨æ•°æ®ï¼ˆå› ä¸ºæ‰‹åŠ¨inputçœŸçš„å¾ˆå°‘æœ‰äººç”¨ï¼‰ã€‚</p>
<ul>
<li>Stataè¯»å–xlsï¼Œcsv, å’Œtxt</li>
</ul>
<pre class="line-numbers language-stata" data-language="stata"><code class="language-stata"><span class="token operator">#</span> xls
<span class="token command keyword">import</span> excel <span class="token string-literal"><span class="token string">"filename.xls"</span></span><span class="token punctuation">,</span> <span class="token keyword">clear</span> <span class="token function">sheet</span><span class="token punctuation">(</span>sheername<span class="token punctuation">)</span> firstrow

<span class="token operator">#</span> txt
<span class="token command keyword">import</span> delimited using <span class="token string-literal"><span class="token string">"filename.txt"</span></span> <span class="token punctuation">,</span><span class="token keyword">clear</span>

<span class="token operator">#</span> csv
<span class="token command keyword">insheet</span> using <span class="token string-literal"><span class="token string">"filename.txt"</span></span><span class="token punctuation">,</span> <span class="token keyword">clear</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>Pandasè¯»å–æ–‡ä»¶</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

<span class="token comment"># xlsx</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_excel<span class="token punctuation">(</span><span class="token string">'filename.xlsx'</span><span class="token punctuation">)</span>
<span class="token comment"># txt</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_table<span class="token punctuation">(</span><span class="token string">'filename.txt'</span><span class="token punctuation">)</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'filename.txt'</span><span class="token punctuation">)</span>
<span class="token comment"># csv</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'filename.csv'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>pd.read_table()</code>å‡½æ•°é»˜è®¤ä½¿ç”¨åˆ¶è¡¨ç¬¦ä½œä¸ºåˆ†éš”ç¬¦æ¥è¯»å–æ–‡æœ¬æ–‡ä»¶ã€‚è€Œ <code>pd.read_csv()</code>å‡½æ•°é»˜è®¤ä½¿ç”¨é€—å·ä½œä¸ºåˆ†éš”ç¬¦æ¥è¯»å–æ–‡æœ¬æ–‡ä»¶,ä»–ä»¬å®è´¨ä¸Šæ˜¯é€šç”¨çš„ã€‚<code>pd.read_csv</code>å°†ç¬¬ä¸€è¡Œé»˜è®¤ä¸ºæ ‡é¢˜è¡Œå³åˆ—åï¼Œè¡Œç´¢å¼•ä¸ºè‡ªåŠ¨æ·»åŠ ã€‚</p>
<p>pandas ä¹Ÿå¯ä»¥è¯»å–.dtaå¸¦æœ‰ <code>read_stata()</code>å‡½æ•°æ ¼å¼çš„ Stata æ•°æ®é›†ã€‚</p>
<pre class="line-numbers language-none"><code class="language-none">df &#x3D; pd.read_stata(&quot;data.dta&quot;)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="å¸¸ç”¨è¯»å…¥å‚æ•°è®¾ç½®"><a href="#å¸¸ç”¨è¯»å…¥å‚æ•°è®¾ç½®" class="headerlink" title="å¸¸ç”¨è¯»å…¥å‚æ•°è®¾ç½®"></a>å¸¸ç”¨è¯»å…¥å‚æ•°è®¾ç½®</h3><p>æˆ‘ä»¬è¿˜å¯ä»¥æœ‰ä»¥ä¸‹çš„å‚æ•°è®¾ç½®ï¼š</p>
<p>csvæ–‡ä»¶</p>
<ul>
<li>filepath_or_bufferï¼šæ–‡ä»¶è·¯å¾„æˆ–ç¼“å†²åŒºå¯¹è±¡</li>
<li>sepï¼šå­—æ®µåˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºé€—å·</li>
<li>headerï¼šæŒ‡å®šå“ªä¸€è¡Œä¸ºåˆ—åï¼Œé»˜è®¤ä¸º0ï¼Œå³ç¬¬ä¸€è¡Œ</li>
<li>index_colï¼šæŒ‡å®šå“ªä¸€åˆ—ä¸ºç´¢å¼•ï¼Œé»˜è®¤ä¸ºNone</li>
<li>usecolsï¼šæŒ‡å®šè¦è¯»å–å“ªäº›åˆ—</li>
<li>nrowsï¼šæŒ‡å®šè¦è¯»å–çš„è¡Œæ•°</li>
<li>na_valuesï¼šæŒ‡å®šå“ªäº›å€¼ä¸ºç¼ºå¤±å€¼</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

<span class="token comment"># è¯»å–csvæ–‡ä»¶</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'data.csv'</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">','</span><span class="token punctuation">,</span> header<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> index_col<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> usecols<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> nrows<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> na_values<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>

<span class="token comment"># æ‰“å°æ•°æ®æ¡†çš„å‰5è¡Œ</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>excelæ–‡ä»¶</p>
<ul>
<li>ioï¼šæ–‡ä»¶åæˆ–ç±»ä¼¼æ–‡ä»¶å¯¹è±¡çš„å‚æ•°</li>
<li>sheet_nameï¼šè¦è¯»å–çš„å·¥ä½œè¡¨çš„åç§°æˆ–ç´¢å¼•ï¼Œé»˜è®¤ä¸ºç¬¬ä¸€ä¸ªå·¥ä½œè¡¨</li>
<li>headerï¼šæŒ‡å®šå“ªä¸€è¡Œä¸ºåˆ—åï¼Œé»˜è®¤ä¸º0ï¼Œå³ç¬¬ä¸€è¡Œ</li>
<li>index_colï¼šæŒ‡å®šå“ªä¸€åˆ—ä¸ºç´¢å¼•ï¼Œé»˜è®¤ä¸ºNone</li>
<li>usecolsï¼šæŒ‡å®šè¦è¯»å–å“ªäº›åˆ—</li>
<li>nrowsï¼šæŒ‡å®šè¦è¯»å–çš„è¡Œæ•°</li>
<li>na_valuesï¼šæŒ‡å®šå“ªäº›å€¼ä¸ºç¼ºå¤±å€¼</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è¯»å–Excelæ–‡ä»¶</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_excel<span class="token punctuation">(</span><span class="token string">'data.xlsx'</span><span class="token punctuation">,</span> sheet_name<span class="token operator">=</span><span class="token string">'Sheet1'</span><span class="token punctuation">,</span> header<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> index_col<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> usecols<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> nrows<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> na_values<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>

<span class="token comment"># æ‰“å°æ•°æ®æ¡†çš„å‰5è¡Œ</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="è¾“å‡ºæ•°æ®"><a href="#è¾“å‡ºæ•°æ®" class="headerlink" title="è¾“å‡ºæ•°æ®"></a>è¾“å‡ºæ•°æ®</h3><p>åœ¨Stataä¸­ï¼Œå¯ä»¥ä½¿ç”¨exportå‘½ä»¤å°†æ•°æ®è¾“å‡ºåˆ°.dtaã€.csvå’Œ.txtç­‰æ ¼å¼çš„æ–‡ä»¶ä¸­ã€‚åœ¨Pythonä¸­ï¼Œå¯ä»¥ä½¿ç”¨pandasåŒ…ä¸­çš„ <code>to_stata</code>ã€<code>to_csv</code>å’Œ <code>to_excel</code>ç­‰å‡½æ•°å°†æ•°æ®è¾“å‡ºåˆ°ä¸åŒæ ¼å¼çš„æ–‡ä»¶ä¸­ã€‚</p>
<p>ä»¥ä¸‹æ˜¯å°†æ•°æ®è¾“å‡ºåˆ°ä¸åŒæ ¼å¼æ–‡ä»¶çš„ä»£ç ç¤ºä¾‹ï¼š</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">
<span class="token comment"># å°†æ•°æ®è¾“å‡ºä¸º.dtaæ ¼å¼</span>
df<span class="token punctuation">.</span>to_stata<span class="token punctuation">(</span><span class="token string">'data.dta'</span><span class="token punctuation">)</span>

<span class="token comment"># å°†æ•°æ®è¾“å‡ºä¸º.csvæ ¼å¼</span>
df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">'data.csv'</span><span class="token punctuation">)</span>

<span class="token comment"># å°†æ•°æ®è¾“å‡ºä¸º.xlsxæ ¼å¼</span>
df<span class="token punctuation">.</span>to_excel<span class="token punctuation">(</span><span class="token string">'data.xlsx'</span><span class="token punctuation">)</span>

<span class="token comment"># å°†æ•°æ®è¾“å‡ºä¸º.txtæ ¼å¼</span>
df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">'data.txt'</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">'\t'</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="è¾“å‡ºå‚æ•°è®¾ç½®"><a href="#è¾“å‡ºå‚æ•°è®¾ç½®" class="headerlink" title="è¾“å‡ºå‚æ•°è®¾ç½®"></a>è¾“å‡ºå‚æ•°è®¾ç½®</h3><p>to_csv():</p>
<ul>
<li>sep: str, default â€˜,â€™ï¼Œè¡¨ç¤ºç”¨äºåˆ†éš”æ•°æ®çš„å­—ç¬¦</li>
<li>header: bool or list of str, default Trueï¼Œè¡¨ç¤ºæ˜¯å¦åœ¨è¾“å‡ºæ–‡ä»¶ä¸­åŒ…å«åˆ—åï¼Œæˆ–æŒ‡å®šè¾“å‡ºçš„åˆ—ååˆ—è¡¨</li>
<li>index: bool, default Trueï¼Œè¡¨ç¤ºæ˜¯å¦åœ¨è¾“å‡ºæ–‡ä»¶ä¸­åŒ…å«è¡Œç´¢å¼•</li>
<li>encoding: str, default â€˜utf-8â€™ï¼Œè¡¨ç¤ºè¾“å‡ºæ–‡ä»¶çš„ç¼–ç æ–¹å¼</li>
<li>mode: str, default â€˜wâ€™ï¼Œè¡¨ç¤ºæ‰“å¼€æ–‡ä»¶çš„æ¨¡å¼ï¼Œâ€™wâ€™è¡¨ç¤ºè¦†ç›–å†™å…¥ï¼Œâ€™aâ€™è¡¨ç¤ºè¿½åŠ å†™å…¥</li>
</ul>
<p>to_excel():</p>
<ul>
<li>excel_writer: str or ExcelWriter objectï¼Œè¡¨ç¤ºè¾“å‡ºæ–‡ä»¶çš„è·¯å¾„æˆ–ExcelWriterå¯¹è±¡</li>
<li>sheet_name: str, default â€˜Sheet1â€™ï¼Œè¡¨ç¤ºè¾“å‡ºåˆ°Excelä¸­çš„å·¥ä½œè¡¨å</li>
<li>header: bool or list of str, default Trueï¼Œè¡¨ç¤ºæ˜¯å¦åœ¨è¾“å‡ºæ–‡ä»¶ä¸­åŒ…å«åˆ—åï¼Œæˆ–æŒ‡å®šè¾“å‡ºçš„åˆ—ååˆ—è¡¨</li>
<li>index: bool, default Trueï¼Œè¡¨ç¤ºæ˜¯å¦åœ¨è¾“å‡ºæ–‡ä»¶ä¸­åŒ…å«è¡Œç´¢å¼•</li>
<li>encoding: str, default â€˜utf-8â€™ï¼Œè¡¨ç¤ºè¾“å‡ºæ–‡ä»¶çš„ç¼–ç æ–¹å¼</li>
<li>mode: str, default â€˜wâ€™ï¼Œè¡¨ç¤ºæ‰“å¼€æ–‡ä»¶çš„æ¨¡å¼ï¼Œâ€™wâ€™è¡¨ç¤ºè¦†ç›–å†™å…¥ï¼Œâ€™aâ€™è¡¨ç¤ºè¿½åŠ å†™å…¥</li>
</ul>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å°†DataFrameæ•°æ®å†™å…¥csvæ–‡ä»¶</span>
df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">'output.csv'</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">'\t'</span><span class="token punctuation">,</span> header<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>

<span class="token comment"># å°†DataFrameæ•°æ®å†™å…¥Excelæ–‡ä»¶</span>
df<span class="token punctuation">.</span>to_excel<span class="token punctuation">(</span><span class="token string">'output.xlsx'</span><span class="token punctuation">,</span> sheet_name<span class="token operator">=</span><span class="token string">'Sheet1'</span><span class="token punctuation">,</span> header<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="ç»“æŸè¯­"><a href="#ç»“æŸè¯­" class="headerlink" title="ç»“æŸè¯­"></a>ç»“æŸè¯­</h1><p>æœªå®Œå¾…ç»­ï¼Œè¯¥ç³»åˆ—å…¶ä»–æ¨æ–‡æ­£åœ¨æ’°å†™ï¼Œæ•¬è¯·æœŸå¾…ã€‚</p>

  <p><a class="classtest-link" href="/tags/code/" rel="tag">code</a> â€” 2023å¹´2æœˆ23æ—¥</p>
  
  <hr>
<section id="comments" class="mt-2 mb-3">

  <div id="disqus_thread">
    <a href="#" class="button button-primary" onclick="loadDisqus();return false;">View / Make Comments</a>
  </div>

  <script>
    var disqus_config = function() {
      this.page.url = 'http://example.com/2023/02/23/ä»stataå‘pythonè¿ç§»(ä¸€)ï¼šæ–‡ä»¶è¯»å–/index.html';
      this.page.identifier = '2023/02/23/ä»stataå‘pythonè¿ç§»(ä¸€)ï¼šæ–‡ä»¶è¯»å–/index.html';
      this.page.title = 'ä»stataå‘pythonè¿ç§»(ä¸€)ï¼šæ–‡ä»¶è¯»å–';
    };

    var is_disqus_loaded = false;

    function loadDisqus() {
      if (!is_disqus_loaded) {
        is_disqus_loaded = true;

        var d = document,
          s = d.createElement('script');
        s.src = 'https://https-beingfanfan-github-io.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      }
    }

  </script>
  <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>



        </div>
        <div class="row mt-2">
  <h3>Search</h3>
  <div><input id="search-text" title="search" class="search-text" type="text" placeholder="search......"></div>
  <div style="margin-top: 1.5rem;">
    <ul id="result"></ul>
  </div>
</div>
        <div class="row mt-2">
  
    <div class="eight columns">
      <p id="madewith">åŠªåŠ›æ‰“ç ´å­¦æœ¯å£å’
        <a class="footer-link icon" href="https://hexo.io" target="_blank" style="text-decoration: none;" rel="noreferrer" aria-label="Hexo.io">
        <svg class="hexo svg-hov" width="14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Hexo.js</title><path d="M12 .007L1.57 6.056V18.05L12 23.995l10.43-6.049V5.952L12 .007zm4.798 17.105l-.939.521-.939-.521V12.94H9.08v4.172l-.94.521-.938-.521V6.89l.939-.521.939.521v4.172h5.84V6.89l.94-.521.938.521v10.222z"/></svg>
        </a>
        
    </div>

    <!-- Sepcial thanks to https://simpleicons.org/ for the icons -->
    <div class="four columns mb-3 posisi" >
      
      <a class="ml-0 footer-link icon" href="https://github.com/beingfanfan" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="GitHub">
        <svg class="github svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
      </a>
      

      

      

      

      

    </div>
  
</div>

      </div>

    </div>

  </div>
  <script src="/js/nanobar.min.js"></script>

  <script>
    var options = {
      classname: 'nanobar',
      id: 'myNanobar'
    };
    var nanobar = new Nanobar(options);
    nanobar.go(30);
    nanobar.go(76);
    nanobar.go(100);
  </script>

</body>

</html>